<h2>Configure {{ data.node.name }}</h2>

<div class="modal-body">
  <form [formGroup]="configForm">
    <div class="form-group">
      <label for="nodeName">Node Name</label>
      <input type="text" id="nodeName" class="form-control" formControlName="name" placeholder="Enter node name">
    </div>

    <!-- HTTP Node Configuration -->
    <div *ngIf="data.node.type === 'http'">
      <div class="form-group">
        <label for="url">URL</label>
        <input type="text" id="url" class="form-control" formControlName="url" placeholder="https://api.example.com/endpoint">
      </div>

      <div class="form-group">
        <label for="method">Method</label>
        <select id="method" class="form-control" formControlName="method">
          <option value="GET">GET</option>
          <option value="POST">POST</option>
          <option value="PUT">PUT</option>
          <option value="DELETE">DELETE</option>
        </select>
      </div>

      <div class="form-group">
        <label for="headers">Headers (JSON)</label>
        <textarea id="headers" class="form-control" formControlName="headers" rows="3" placeholder='{"key": "value"}'></textarea>
      </div>

      <div class="form-group">
        <label for="body">Body (JSON)</label>
        <textarea id="body" class="form-control" formControlName="body" rows="5" placeholder='{"key": "value"}'></textarea>
      </div>
    </div>

    <!-- Schedule Node Configuration -->
    <div *ngIf="data.node.type === 'schedule'">
      <div class="form-group">
        <label for="cronExpression">Cron Expression</label>
        <input type="text" id="cronExpression" class="form-control" formControlName="cronExpression" placeholder="0 * * * *">
        <small class="form-text text-muted">Minute Hour Day Month Weekday</small>
      </div>

      <div class="form-group">
        <label for="timezone">Timezone</label>
        <input type="text" id="timezone" class="form-control" formControlName="timezone" placeholder="UTC">
      </div>
    </div>

    <!-- Set Node Configuration -->
    <div *ngIf="data.node.type === 'set'">
      <div class="form-group">
        <label for="values">Values (JSON)</label>
        <textarea id="values" class="form-control" formControlName="values" rows="10" placeholder='{"key": "value"}'></textarea>
      </div>
    </div>

    <!-- IF Node Configuration -->
    <div *ngIf="data.node.type === 'if'">
      <div class="form-group">
        <label for="condition">Condition</label>
        <textarea id="condition" class="form-control" formControlName="condition" rows="3" placeholder="item.value > 100"></textarea>
      </div>
    </div>

    <!-- Code Node Configuration -->
    <div *ngIf="data.node.type === 'code'">
      <div class="form-group">
        <label for="language">Language</label>
        <select id="language" class="form-control" formControlName="language">
          <option value="javascript">JavaScript</option>
          <option value="python">Python</option>
        </select>
      </div>

      <div class="form-group">
        <label for="code">Code</label>
        <textarea id="code" class="form-control code-editor" formControlName="code" rows="15"></textarea>
      </div>
    </div>
  </form>
</div>

<div class="modal-footer">
  <button type="button" class="btn btn-secondary" (click)="cancel()">Cancel</button>
  <button type="button" class="btn btn-primary" (click)="save()">Save</button>
</div>
